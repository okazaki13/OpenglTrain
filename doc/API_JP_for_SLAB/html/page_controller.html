<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>SpidarAHS API for SLAB: コントローラについて</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- 作成： Doxygen 1.5.9 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>メインページ</span></a></li>
      <li class="current"><a href="pages.html"><span>関連ページ</span></a></li>
      <li><a href="files.html"><span>ファイル</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1><a class="anchor" name="page_controller">コントローラについて </a></h1><br>
 <br>
 　※　注　意　※<br>
 　PCの電源投入時にコントローラの電源がオンになっている場合、PCが起動しない場合があります。<br>
 　PCの電源投入時にはコントローラの電源がオフになっていることを確認してください。<br>
 <br>
 <br>
<p>
 
<div align="center">
<img src="../../img/Board_AHS_009_02_001A.jpg" align="middle"><br>
</div>
<h2><a class="anchor" name="sec_power">
電源について</a></h2>
本コントローラを使用する際は、必ず電源として付属のACアダプター（12[V], センタープラス型）を用いてください。<br>
 （※海外での利用は保証対象外となります。）<br>
 <br>
 <br>
<h2><a class="anchor" name="sec_usb">
USBについて</a></h2>
本コントローラを使用する際は、必ず付属のUSBケーブル（ABタイプ）を用いてください。<br>
 <br>
 <br>
<h2><a class="anchor" name="sec_user_io">
汎用ユーザ入力について</a></h2>
本コントローラには汎用のユーザ入力端子があります。（10ピン） この端子により得られるデジタル信号は、本ソフトウェアにより値を取得することが可能です。<br>
<p>
<br>
  
<img src="../../img/user_io_10pin.jpg"><br>
 <br>
 1番ピン 汎用デジタル入力：ユーザー入力1（コントローラ内部で5Vにプルアップ）<br>
 2番ピン 汎用デジタル入力：ユーザー入力2（コントローラ内部で5Vにプルアップ）<br>
 3番ピン 汎用デジタル入力：ユーザー入力3（コントローラ内部で5Vにプルアップ）<br>
 4番ピン 汎用デジタル入力：ユーザー入力4（コントローラ内部で5Vにプルアップ）<br>
 5番ピン GND<br>
<p>
6番ピン オープン （※内部情報 ADC_CS# 3.3V LVCMOS もしくは touch0） <br>
 7番ピン オープン （※内部情報 ADC_DIN 3.3V LVCMOS もしくは touch1） <br>
 8番ピン オープン （※内部情報 ADC_SCLK 3.3V LVCMOS もしくは touch2） <br>
 9番ピン オープン （※内部情報 ADC_DOUT 3.3V LVCMOS もしくは touch_send） <br>
<p>
10番ピン GND<br>
<p>
（汎用デジタル入力はコントローラ内部で5Vにプルアップされています。GNDに接続することで、値が変化(0-&gt;1)します。）<br>
 6番ピンから9番ピンは，利用しないときは必ずオープンにしてください。それ以外ですとコントローラを破損することがあります。<br>
<p>
※フラットケーブルはAWG28を推奨<br>
 <br>
<p>
（※内部情報 ） 6番ピンから9番ピンの4本の信号線は拡張のA/Dコンバータと静電容量式のタッチスイッチが基板内部でマルチプレクスされています．<br>
 DIPスイッチの設定でA/Dコンバータとタッチスイッチを切り替えることができます．（※2011/08/24以降のFPGAのROMから対応．）<br>
<p>
8ch,12bit,A/Dコンバータ(AD7928)を接続するシリアルインタフェースを6番ピン〜9番ピンに接続可能です。<br>
 電源は34ピン拡張I/Oの33番ピン（信号線駆動用 3.3V）、34番ピン（ADC電源用 5V）を利用してください。<br>
 <br>
<h2><a class="anchor" name="sec_motor_io">
モータ接続端子について（※コントローラ単体利用時の内部情報）</a></h2>
本コントローラのモータ接続端子は、Maxon社製モータの端子に一部準拠した仕様になっています。<br>
 フラットケーブルの1番線から見た信号の仕様を下記(フラットケーブル断面図)に示します。<br>
 <br>
 ※Maxon社製DCモータ（271107 RE-max24+tacho MR）以外での使用は保証対象外です．<br>
 いかなる場合でも推奨モータ以外は接続しないでください．<br>
 また，モータに流せる最大瞬間電流は1.73[A]です．この値を一瞬でも超えるような電流が流れた場合コントローラが破損します． <br>
<p>
※271107は220429（RE-max24 EBCLL 6.5W SL 2WE）と201940（tacho MR 512IMP 3K 32P ASIC）の組み合わせ番号です．<p>
 
<img src="../../img/motor_io_pin_60.jpg"><br>
<p>
1番ピン モータ(＋極)<br>
 2番ピン Vcc（5[V], ロータリーエンコーダ用）<br>
 3番ピン GND（ロータリーエンコーダ用）<br>
 4番ピン モータ(−極)<br>
 5番ピン ロータリーエンコーダA相<br>
 6番ピン オープン<br>
 7番ピン ロータリーエンコーダB相<br>
<p>
8番ピン以降はこの順序の繰り返しで0ch〜7chまで計56ピンの信号線<br>
 57ピン〜60ピンまでの4本はオープン<br>
 （1番ピンは基板側60ピンコネクタに▲マークの付いている側です。）<br>
<p>
※フラットケーブルはAWG28を推奨<br>
<p>
<br>
 <h2><a class="anchor" name="sec_motor_phs">
モータ回転方向設定ジャンパピンについて（※コントローラ単体利用時の内部情報）</a></h2>
本コントローラでは、ワイヤ駆動のためワイヤを引くことでしか利用しないため、モータは1方向にしか回転しません。<br>
 そのため、モータの設置によってはモータの回転方向を変更する必要が出てきます。<br>
 そこで、モータの回転方向の設定をコントローラ上のジャンパピンを変更することで（ケーブルの加工をしないで）実現しています。<br>
<p>
 
<img src="../../img/motor_phs_jump_pin_32.jpg"><br>
 （図のピンは、基板を電源接続ジャック、USBジャックを下向きとして見た場合の配置）<br>
<p>
それぞれのモータ出力チャンネルに対して、<br>
 ・2つのジャンパピンを両方青色の位置のピンにすると正転方向<br>
 ・2つのジャンパピンを両方オレンジ色の位置のピンにすると逆転方向<br>
 となります。<br>
 青色の位置とオレンジの位置を混ぜてジャンパピンを接続しないでください。ショートしてコントローラが壊れます。<br>
 ジャンパピン接続変更の際は基板上の他の素子などを傷つけたりストレスがかからないように注意してください。<br>
<p>
※ジャンパピンは3A以上流せるものを推奨<br>
<p>
<br>
 <h2><a class="anchor" name="sec_ex_io34pin">
34ピン拡張I/Oについて（※内部情報）</a></h2>
本コントローラでは、機能拡張のための43ピンのI/Oがあります。 このI/Oは常にオープンの状態にしてください。 基板が破損する可能性があります。<p>
 
<img src="../../img/ex_io_34pin.jpg"><br>
<p>
1番ピン〜 4番ピン オープン（FPGA_RD）<br>
 5番ピン〜 8番ピン オープン（FPGA_WR）<br>
 9番ピン GND<br>
 10番ピン〜17番ピン オープン（FD）<br>
 18番ピン GND<br>
 19番ピン オープン（IFCLK）<br>
 20番ピン GND<br>
 21番ピン オープン（SLWR）<br>
 22番ピン オープン（SLRD）<br>
 23番ピン〜30番ピン オープン<br>
 31番ピン オープン（FIFOADR1）<br>
 32番ピン オープン（SLOE）<br>
 33番ピン 3.3V<br>
 34番ピン 5V<br>
 （1番ピンは基板側34ピンコネクタに▲マークの付いている側です。）<br>
<p>
※フラットケーブルはAWG28を推奨<br>
<p>
<br>
 <h2><a class="anchor" name="sec_dip_sw">
6chのDIPスイッチについて（※内部情報）</a></h2>
※2011/08/24以降のFPGAのROMから対応．<p>
本コントローラは、初期の機能設定のために6chのDIPスイッチが基板上にあります。<br>
 このDIPスイッチは起動時に変更しないでください。<br>
 変更するときは必ず電源を切ってから行ってください。<br>
 基板が破損する可能性があります。<br>
<p>
 
<img src="../../img/DIP.jpg"><br>
<p>
1番ピン コントローラチャンネル設定0(デフォルト:ON側) <br>
 2番ピン コントローラチャンネル設定1(デフォルト:ON側) <br>
 3番ピン コントローラターミナル設定 (デフォルト:ON側) <br>
 4番ピン 拡張ADC(値:OFF側)と3chタッチセンサ(値:ON側)の切り替え(デフォルト:ON側)<br>
 5番ピン 電流制限回路（有効:ON側，無効:OFF側）(デフォルト:ON側)<br>
 6番ピン ダミー(デフォルト:OFF側)<br>
<p>
※注意<br>
 ON側のときソフトウェアにより得られる値は0です．<br>
 OFF側のときソフトウェアにより得られる値は1です．<br>
<p>
<br>
 <h2><a class="anchor" name="sec_touch_sense">
3chのタッチスイッチ（静電容量）について（※内部情報）</a></h2>
※2011/08/24以降のFPGAのROMから対応．<p>
本コントローラは、静電容量式のタッチスイッチを3ch内蔵しています．<p>
汎用のユーザ入力端子の10ピンのうち6番ピンから9番ピンの 4本の信号線は拡張のADCと基板内部でマルチプレクスされています．<br>
 DIPスイッチの設定でADCとタッチスイッチを切り替えることができます．<br>
<p>
この端子により得られるセンサ値は、本ソフトウェアにより値を取得することが可能です。<br>
 タッチすることでタッチしていない時よりも大きな値が得られます．<br>
<p>
<br>
<p>
静電容量式のタッチセンサの推奨回路図<br>
<p>
 
<img src="../../img/touch_sw.jpg"><br>
<p>
パッドは導電性のパッド（金属箔など）を利用してください．<br>
 配線の長さやパッドの材質，形状，接触状態などによって得られる値が異なります．<br>
 デジタルスイッチとして利用する場合，適切なスレッショルドを設定してください．<br>
<p>
<br>
<p>
タッチセンサに利用する信号線：汎用ユーザ入力端子（10ピン）<br>
<p>
 
<img src="../../img/user_io_10pin.jpg"><br>
 <br>
<p>
6番ピン 静電容量タッチスイッチ0 touch0<br>
 7番ピン 静電容量タッチスイッチ1 touch1<br>
 8番ピン 静電容量タッチスイッチ2 touch2<br>
 9番ピン 静電容量タッチスイッチ信号出力 touch_send<br>
 </div>
<hr>

Generated on 31 Jan 2012 for SpidarAHS API for SLAB 1.0AforSLAB by doxygen 1.5.9<br>

Copyright &copy Katsuhito AKAHANE 2005-2012. All Rights Reserved.

</BODY>
</HTML>
